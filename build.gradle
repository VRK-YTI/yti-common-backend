plugins {
    id 'java-library'
}

apply plugin: 'maven-publish'
apply plugin: 'idea'

group = 'fi.vm.yti'
version = '1.0-SNAPSHOT'

repositories {
    mavenLocal()
    mavenCentral {
        content { excludeGroupByRegex "fi\\.vm\\.yti.*" }
    }
    google {
        content { excludeGroupByRegex "fi\\.vm\\.yti.*" }
    }
    jcenter {
        content { excludeGroupByRegex "fi\\.vm\\.yti.*" }
    }

    // put your artifactory parameters to $HOME/.gradle/gradle.properties
    if (project.hasProperty('artifactoryUrl')) {
        maven {
            url "$artifactoryUrl"
            credentials {
                username "$artifactoryUsername"
                password "$artifactoryPassword"
            }
        }
    }
}

publishing {
    publications {
        myLib(MavenPublication) {
            from components.java
        }
    }
}

sourceCompatibility = 17
targetCompatibility = 17

dependencies {
    implementation 'org.springframework:spring-webflux:6.1.4'
    implementation 'org.springframework:spring-context:6.1.4'
    implementation 'org.springframework.security:spring-security-core:6.1.4'
    implementation 'io.projectreactor.netty:reactor-netty-http:1.1.2'
    implementation "org.apache.jena:jena-core:4.10.0"
    implementation "org.apache.jena:jena-arq:4.10.0"
    implementation "org.apache.jena:jena-rdfconnection:4.10.0"
    implementation "org.apache.jena:jena-querybuilder:4.10.0"

    implementation "com.google.guava:guava:33.0.0-jre"

    implementation "fi.vm.yti:yti-spring-security:0.4.0"

    implementation "io.swagger.core.v3:swagger-annotations:2.2.20"

    testImplementation platform('org.junit:junit-bom:5.9.1')
    testImplementation 'org.junit.jupiter:junit-jupiter'
}

test {
    useJUnitPlatform()
}